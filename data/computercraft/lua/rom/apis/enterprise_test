--                _     _ _         __                  _   _
--               | |   | (_)       / _|                | | (_)
--    _ __  _   _| |__ | |_  ___  | |_ _   _ _ __   ___| |_ _  ___  _ __  ___
--   | '_ \| | | | '_ \| | |/ __| |  _| | | | '_ \ / __| __| |/ _ \| '_ \/ __|
--   | |_) | |_| | |_) | | | (__  | | | |_| | | | | (__| |_| | (_) | | | \__ \
--   | .__/ \__,_|_.__/|_|_|\___| |_|  \__,_|_| |_|\___|\__|_|\___/|_| |_|___/
--   | |
--   |_|

--                        _
--                       (_)
--    ___  ___ _ ____   ___  ___ ___  ___
--   / __|/ _ \ '__\ \ / / |/ __/ _ \/ __|
--   \__ \  __/ |   \ V /| | (_|  __/\__ \
--   |___/\___|_|    \_/ |_|\___\___||___/

function TestPureLogicService(serviceArgument)
    coreutils.WriteToLog("enterprise_test.TestPureLogicService("..serviceArgument..")")

    return serviceArgument
end

function TestServiceWithAssignment(serviceArgument)
    coreutils.WriteToLog("enterprise_test.TestServiceWithAssignment("..serviceArgument..")")

    -- create assignment arguments
    local metaData = {
        startTime = coreutils.UniversalTime(),
        location = {x= 0, y= 0, z= 1, dx=0, dy=1},
        needTool = false,
        needTurtle = false,
        fuelNeeded = 0
    }
    local taskFunction = "enterprise_test.ATaskFunc1"
    local taskArgumentTable = {
        arg1 = serviceArgument
    }
    local callbackFunction = "enterprise_test.ACallBackFunc1"

    -- add assignment
    coreassignment.AddAssignment(metaData, taskFunction, taskArgumentTable, callbackFunction, {})

    return true
end

function TestServiceWithAssignmentAndCallback(serviceArgument, callbackFunction)
    coreutils.WriteToLog("enterprise_test.TestServiceWithAssignmentAndCallback("..serviceArgument..", "..callbackFunction..")")

    -- create assignment arguments
    local metaData = {
        startTime = coreutils.UniversalTime(),
        location = {x= 0, y= 0, z= 1, dx=0, dy=1},
        needTool = false,
        needTurtle = false,
        fuelNeeded = 0
    }
    local taskFunction = "enterprise_test.ATaskFunc1"
    local taskArgumentTable = {
        arg1 = serviceArgument
    }

    -- add assignment
    coreassignment.AddAssignment(metaData, taskFunction, taskArgumentTable, callbackFunction, {})

    return true
end

function TestServiceWithAssignmentAndCallbackAndArguments(serviceArgument, callbackFunction, callbackArgumentTable)
    coreutils.WriteToLog("enterprise_test.TestServiceWithAssignmentAndCallback("..serviceArgument..", "..callbackFunction..")")

    -- create assignment arguments
    local metaData = {
        startTime = coreutils.UniversalTime(),
        location = {x= 0, y= 0, z= 1, dx=0, dy=1},
        needTool = false,
        needTurtle = false,
        fuelNeeded = 0
    }
    local taskFunction = "enterprise_test.ATaskFunc1"
    local taskArgumentTable = {
        arg1 = serviceArgument
    }

    -- add assignment
    coreassignment.AddAssignment(metaData, taskFunction, taskArgumentTable, callbackFunction, callbackArgumentTable)

    return true
end

--    _                 _    __                  _   _
--   | |               | |  / _|                | | (_)
--   | | ___   ___ __ _| | | |_ _   _ _ __   ___| |_ _  ___  _ __  ___
--   | |/ _ \ / __/ _` | | |  _| | | | '_ \ / __| __| |/ _ \| '_ \/ __|
--   | | (_) | (_| (_| | | | | | |_| | | | | (__| |_| | (_) | | | \__ \
--   |_|\___/ \___\__,_|_| |_|  \__,_|_| |_|\___|\__|_|\___/|_| |_|___/

function ATaskFunc1(taskArgumentTable)
    coreutils.WriteToLog("enterprise_test.ATaskFunc1("..textutils.serialise(taskArgumentTable)..").")

    return taskArgumentTable.arg1
end

function ACallBackFunc1(callbackArgumentTable, testResult)
    coreutils.WriteToLog("enterprise_test.ACallBackFunc1("..textutils.serialise(callbackArgumentTable)..", "..textutils.serialise(testResult)..") called.")

    return callbackArgumentTable.arg1
end

